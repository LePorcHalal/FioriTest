<!-- Based on https://sapui5.hana.ondemand.com/#/sample/sap.ui.comp.sample.smarttable/code/SmartTable.view.xml -->
<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns:core="sap.ui.core" xmlns="sap.m" xmlns:semantic="sap.m.semantic"
	xmlns:smartFilterBar="sap.ui.comp.smartfilterbar" xmlns:smartTable="sap.ui.comp.smarttable" xmlns:html="http://www.w3.org/1999/xhtml"
	xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" controllerName="com.beyondtechnologies.controller.Projects"
	height="100%" class="sapUiSizeCompact">
	<semantic:SemanticPage id="page">
		<!--<semantic:titleHeading>
            <Title text="{i18n>projects}" />
        </semantic:titleHeading>-->
		<semantic:content>
			<PullToRefresh id="pullToRefresh" visible="{device>/support/touch}" refresh="onRefresh"/>
			<!-- use this to make the table occupy the available screen height -->
			<VBox fitContainer="true">
				<smartFilterBar:SmartFilterBar id="smartFilterBar" entityType="EffortMatrixType" persistencyKey="SmartFilter_Explored"
				    enableBasicSearch="false" filterBarExpanded="false">
				    <smartFilterBar:controlConfiguration>
				        <smartFilterBar:ControlConfiguration key="FRICE"/>
				<smartFilterBar:ControlConfiguration key="CUSTOMER"/>
				<smartFilterBar:ControlConfiguration key="RESPONSIBLE"/>
				<smartFilterBar:ControlConfiguration key="DESCRIPTION"/>
				    </smartFilterBar:controlConfiguration>
				<!--layout data used to make the table growing but the filter bar fixed -->
				    <smartFilterBar:layoutData>
				        <FlexItemData shrinkFactor="0"/>
				    </smartFilterBar:layoutData>
				</smartFilterBar:SmartFilterBar>
				
				
				<smartTable:SmartTable id="ProjectsSmartTable" entitySet="EffortMatrix"  smartFilterId="smartFilterBar" tableType="ResponsiveTable"
					useExportToExcel="false" useVariantManagement="false" useTablePersonalisation="true" header="{i18n>Projects}" showRowCount="false"
					persistencyKey="SmartTableAnalytical_Explored" editable="false" editTogglable="true" enableAutoBinding="true" app:useSmartField="true"
					class="sapUiResponsiveContentPadding">
					<smartTable:customToolbar>
						<OverflowToolbar design="Transparent">
							<ToolbarSpacer/>
							<!--<OverflowToolbarButton icon="sap-icon://delete" text="{i18n>delete}" press="onDelete"/>-->
							<OverflowToolbarButton icon="sap-icon://add" text="{i18n>create}" press="onAdd" enabled="{appView>addEnabled}"/>
						</OverflowToolbar>
					</smartTable:customToolbar>
					<!-- layout data used to make the table growing but the filter bar fixed -->
					<smartTable:layoutData>
						<FlexItemData growFactor="1" baseSize="0%"/>
					</smartTable:layoutData>
					<Table >
						<columns>
							<Column id="checkBox" width="20px">
								
							</Column>
							
							<Column id="FRICE" width="110px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "FRICE", "maxLength": "200","columnIndex":"1", "leadingProperty": "FRICE"}' />
								</customData>
								<Text text="FRICE"/>
							</Column>
							<Column id="ComplexityID" width="110px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData"
										value='\{"columnKey": "ComplexityID", "maxLength": "200","columnIndex":"2", "leadingProperty": "COMPLEXITY"}'/>
								</customData>
								<Text text="COMPLEXITY"/>
							</Column>
							<Column id="GrandTotalID" width="55px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData"
										value='\{"columnKey": "GrandTotalID", "maxLength": "200","columnIndex":"16", "leadingProperty": "GRAND_TOTAL"}'/>
								</customData>
								<Text text="GRAND TOTAL" maxLines="2"/>
							</Column>
							<Column id="TechLeadlID" width="40px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "TechLeadID", "maxLength": "200","columnIndex":"15", "leadingProperty": "TECH_LEAD"}'/>
								</customData>
								<Text text="TECH LEAD" maxLines="2"/>
							</Column>
							<Column id="TechArchID" width="40px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "TechArchID", "maxLength": "200","columnIndex":"14", "leadingProperty": "TECH_ARCH"}'/>
								</customData>
								<Text text="TECH ARCH" maxLines="2"/>
							</Column>
							<Column id="TechID" width="40px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "TechID", "maxLength": "200","columnIndex":"13", "leadingProperty": "TECH"}'/>
								</customData>
								<Text text="TECH"/>
							</Column>
							<Column id="FuncID" width="40px" hAlign="Begin">
								<customData>
									<core:CustomData key="p13nData" value='\{"columnKey": "FuncID", "maxLength": "200","columnIndex":"12", "leadingProperty": "FUNC"}'/>
								</customData>
								<Text text="FUNC"/>
							</Column>
						</columns>
						<items >
							<ColumnListItem>
								<cells>
										<CheckBox selected="false" />
								</cells>
								<cells>
									<Text text="{FRICE}"/>
								</cells>
								<cells>
									<Text text="{COMPLEXITY}"/>
								</cells>
								<cells>
									<Text text="{GRAND_TOTAL}"/>
								</cells>
								<cells>
									<Text text="{TECH_LEAD}"/>
								</cells>
								<cells>
									<Text text="{TECH_ARCH}"/>
								</cells>
								<cells>
									<Text text="{TECH}"/>
								</cells>
								<cells>
									<Text text="{FUNC}"/>
								</cells>
							</ColumnListItem>
						</items>
					</Table>
				</smartTable:SmartTable>
			</VBox>
		</semantic:content>
			<semantic:customFooterContent>
				<Button text="SAVE" press="handleConfirmationMessageBoxPress" />
				<Button text="CANCEL"/>
				</semantic:customFooterContent>
	</semantic:SemanticPage>
</mvc:View>